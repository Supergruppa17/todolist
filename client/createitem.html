<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>Create item</title>
    <script src="superfetch2.js"></script>
	<link rel="stylesheet" type="text/css" href="create.css">
</head>

<body>

	<div id="form">

		<h1>Create a new item!</h1>
		<hr id="linje">
		<br>
		<input id="listId" type="text" placeholder="list id">
		<input id="listName" placeholder="list name">
		<input id="inpName" placeholder="item">
		<button id="btnCreate">create</button>

	</div>

</body>

<script>

    var listId = document.getElementById("listId");
    var listName = document.getElementById("listName");
    var inpName = document.getElementById("inpName");
    var done = document.getElementById("done");
    var btnCreate = document.getElementById("btnCreate");



    //button click ---------------------------------
    btnCreate.onclick = function() {

        var upload = JSON.stringify({
            item_name: inpName.value,
            list_id: listId.value,
            list_name: listName.value
        });

        console.log(upload);

        var url = "http://localhost:3000/todolist/item/";

        var cfg = {
            method: "POST",
            body: upload

        }

        superfetch(url, "json", succ, error, cfg);

    }

    //success --------------------------------------
    function succ(data) {

        window.location.href = "showitem.html";

        console.log(data); //Hello World!


    }

    //error ----------------------------------------
    function error(err) {
        console.log(err);
    }




</script>



</html>
