<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>Create List</title>
    <script src="superfetch2.js"></script>
</head>

<body>

    <input id="inpListname" placeholder="List name">
    <input id="inpDescription" placeholder="Description">
    <input id="inpDelete" placeholder="True/false">
    <input id="inpLoginname" placeholder="Loginname">

    <button id="btnCreate">Create new list</button>



</body>

<script>

    var inpListname = document.getElementById("inpListname");
    var inpDescription = document.getElementById("inpDescription");
    var inpDelete = document.getElementById("inpDelete");
    var inpLoginname = document.getElementById("inpLoginname");
    var btnCreate = document.getElementById("btnCreate");

    //set current date and time as default value in the input-fields
    /*var now =  new Date().toISOString().slice(0, -8) + "z";
    inpStarttime.value = now;
    inpEndtime.value = now;*/

    //button click ---------------------------------
    btnCreate.onclick = function() {

        var token = JSON.parse(localStorage.getItem("logindata")).token;


        var url = "http://localhost:3000/liste/list/?token=" + token;
        console.log(url);


        var upload = JSON.stringify({
            list_name: inpListname.value,
            description: inpDescription.value,
            delete: inpDelete.value,
            loginname: inpLoginname.value
        });

        //var url = "http://localhost:3000/liste/list/";

        var cfg = {
            method: "POST",
            body: upload
        }

        superfetch(url, "json", succ, error, cfg);
    }



    //success --------------------------------------
    function succ(data) {
        console.log(data); //Hello World!
    }

    //error ----------------------------------------
    function error(err) {
        console.log(err);
    }



</script>

<style>
    input, button, textarea, label {
        width: 100%;
        margin-bottom: 8px;
        height: 40px;
        font-size: 1.5em;
        font-family: sans-serif;
    }
</style>


</html>
